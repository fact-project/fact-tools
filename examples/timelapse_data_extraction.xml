<container>
  <properties url="classpath:/default/settings.properties" />
  <!-- Pathes to the input files -->
  <property name="infile" value="file:src/main/resources/testDataFile.fits.gz" />
  <property name="outfile" value="file:timelapse_data.json" />

  <stream id="fact" class="fact.io.zfits.ZFitsStream"  url="${infile}" limit="50"/>

  <!-- Description of the process and the corresponding stream -->
  <process id="2" input="fact">
    <fact.io.PrintKeysOnConsole keys="EventNum" />
    <fact.utils.BoardTimeToSeconds outputKey="eventTime"/>
    <fact.utils.DrsCellLastReadout outputKey="deltaT"/>
    <fact.io.JSONWriter url="${outfile}" keys="eventTime,deltaT"/>
  </process>
</container>
