<container>

    <properties url="classpath:/default/settings.properties" />

    <!-- Pathes to the input files -->
    <property name="fhgfs" value="/home/fabian/mount/Phido/fhgfs_app" />
    
    <property name="infile" value="${fhgfs}/fact/raw/2014/02/05/20140205_108.fits.fz" />
    <property name="drsfile" value="${fhgfs}/fact/raw/2014/02/05/20140205_093.drs.fits.gz" />
    <property name="drivefile" value="${fhgfs}/fact/aux/2014/02/05/20140205.DRIVE_CONTROL_TRACKING_POSITION.fits" />
    
    <property name="integralGainFile" value="classpath:/default/gain_sorted_20131127.csv" />
    <property name="pixelDelayFile" value="classpath:/default/delays_20141114.csv" />
	    
    <!-- Name of the stream and url to the input file -->
    <stream id="fact" class="fact.io.zfits.ZFitsStream"  url="file:${infile}"/>

    <!-- Description of the process and the corresponding stream -->
    <process id="2" input="fact">
        <fact.utils.PreviousEventInfo 
        	startCellKey="StartCellData"
        	outputKey="prevEvents"
        	limitEvents="10"
        />
        <!-- <stream.flow.Skip condition="%{data.EventNum} &lt; 0" /> -->
        <!-- <stream.flow.Skip condition="%{data.TriggerType} != 1024" /> -->
        
        <include url="classpath:/default/data/calibrationZFits.xml" />
        
        <include url="classpath:/default/data/extraction.xml" /> 
        
        <include url="classpath:/default/data/cleaning.xml" /> 
        
        <!-- <Skip condition="%{data.shower} == null" /> -->
            
        <fact.ShowViewer key="DataCalibrated"/>


    </process>


</container>
