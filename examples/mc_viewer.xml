<container>

	<properties url="classpath:/default/settings_mc.properties" />
        
    <!-- Pathes to the input files -->
    <property name="infile" value="file:src/main/resources/testMcFile.fits.gz" />
	<property name="drsfile" value="file:src/main/resources/testMcDrsFile.drs.fits.gz" />
  
    <property name="integralGainFile" value="classpath:/default/defaultIntegralGains.csv" />

    <service id="calibService" class="fact.calibrationservice.ConstantCalibService" />
	
    <!-- Name of the stream and url to the input file -->
    <stream id="fact" class="fact.io.FitsStream"  url="${infile}"/>

    <!-- Description of the process and the corresponding stream -->
    <process id="2" input="fact">
        <stream.flow.Skip condition="%{data.EventNum} &lt; 0" />
        <!-- <stream.flow.Skip condition="%{data.MCorsikaEvtHeader.fTotalEnergy} &gt; 400" /> -->
        <fact.io.PrintKeysOnConsole keys="MCorsikaEvtHeader.fTotalEnergy" />
        <!-- <stream.flow.Skip condition="%{data.EventNum} &lt; 0" /> -->
        
        <include url="classpath:/default/mc/calibration_mc.xml" />
        
        <include url="classpath:/default/mc/extraction_mc.xml" /> 
        
        <include url="classpath:/default/mc/cleaning_mc.xml" />

        <include url="classpath:/default/mc/pedestalParameters_mc.xml" />

        <include url="classpath:/default/mc/truth_mc.xml" />

        <!-- <Skip condition="%{data.shower} == null" /> -->
            
        <fact.ShowViewer key="DataCalibrated"/>

    </process>


</container>
