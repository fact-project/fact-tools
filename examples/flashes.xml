<container>

<property name="basepath" 		value="/fhgfs/users/jbuss/analysis/flashes/" /> 
<!-- <property name="outpath" 		value="/net/home.e5.physik.tu-dortmund.de/vol/ph_e5v/e5b/homes/jbuss/" />  -->
<property name="infile" 		value="${basepath}20140704_Flashes/00000003.001_D_MonteCarlo000_Events.fits" /> 
<property name="drsfile" 	value="${basepath}20140618_flashes/test300samples.drs.fits" />
<property name="outfile" 	value="${basepath}20140704_Flashes/20140626extractorComparison.csv" />
<property name="extractionTreshold" 	value="100" />

    <stream id="fact" class="fact.io.FitsStream" url="file:${infile}" />
            
        <process input="fact">
       		<fact.utils.Remapping key="Data" outputKey="Data"/> 
       		<fact.utils.RemappingKeys keys="McCherPhotWeight,McCherPhotNumber,McMuonCherPhotWeight,McNoisePhotWeight,McCherArrTimeMean,McCherArrTimeVar,McCherArrTimeMin,McCherArrTimeMax" />     
<!-- 			<stream.flow.Skip condition="%{data.EventNum} &gt; 50" /> -->
<!-- 	        <fact.utils.PreviousStartCells startCellKey="StartCellData" outputKey="prevEvents" limitEvents="5"/> -->
<!-- 	        <stream.flow.Skip condition="%{data.EventNum} &lt; 0" /> -->
<!-- 	        <stream.flow.Skip condition="%{data.TriggerType} != 4" /> -->
	        <fact.filter.DrsCalibration url="file:${drsfile}" key="Data"  outputKey="DataCalibrated" color="#000000"/>  
<!-- 	        <fact.filter.PatchJumpRemoval dataKey="DataCalibrated" outputKey="DataCalibrated" color="#E6172F" outputJumpsKey="j" prevEventsKey="prevEvents" startCellKey="StartCellData" jumpLimit="2.0" /> -->
<!-- 	        <fact.filter.RemoveSpikes dataKey="DataCalibrated" outputKey="DataCalibrated" startCellKey="StartCellData" leftBorder="6" spikeLimit="20" topSlopeLimit="16" maxSpikeLength="4" outputSpikesKey="Sp" color="#000000" /> -->
<!-- 	        <fact.filter.InterpolateBadPixel key="DataCalibrated"  outputKey="DataCalibrated" -->
<!-- 	                badChidIds="863,868,297,927,80,873,1093,1094,527,528,721,722" /> -->


<!-- 	        <fact.features.MaxAmplitudePosition key="DataCalibrated" searchWindowLeft="25" searchWindowRight="125" outputKey="maxAmplitudePosition"/> -->
<!-- 	        <fact.features.RisingEdgeForPositions dataKey="DataCalibrated" amplitudePositionsKey="maxAmplitudePosition" outputKey="arrivalTime"/> -->
<!--     	    <fact.features.PhotonCharge dataKey="DataCalibrated" positions="maxAmplitudePosition" outputKey="photoncharge" url="file:src/main/resources/defaultIntegralGains.csv" rangeSearchWindow="25" color="#FF0F0F"/> -->
	          
<!--             <fact.features.TimeOverThreshold key="DataCalibrated" Threshold="${extractionTreshold}" skipNFirstSlices="10" slicesAfterMaximum="100" positions="maxAmplitudePosition" outputKey="timeOverThreshold"/> -->
<!--             <fact.features.PhotonChargeTimeOverTreshold key="timeOverThreshold" Threshold="${extractionTreshold}" outputKey="PhotonchargeToT"/> -->
            
<!--             <fact.features.CoreNeighborClean key="photonCharge" CorePixelThreshold="5.0" neighborPixelThreshold="2.0" outputKey="showerPixel" /> -->
<!--             <fact.features.CalcSourcePosition url="file:${drive_file}" outputKey="sourcePosition"/> -->
<!--             <fact.features.HillasParameter pixels="showerPixel" photonEquivalent="photonCharge" sourcePosition="sourcePosition" outputKey="Hillas_"/> -->
            
<!--             <fact.io.RootASCIIWriter keys="EventNum" url="file:${outfile}" /> -->
<!-- 			<fact.io.CsvListWriter key="PhotonchargeToT" urlString="file://${outpath}20140616extractorPhotonchargeToT.csv"  /> -->
<!-- 			<fact.io.CsvListWriter key="photoncharge" urlString="file://${outpath}20140616photoncharge.csv"  /> -->
            

            <PrintData/> 
<!--  			<fact.ShowViewer key="DataCalibrated"/>  -->


<!--  			<fact.image.monitors.StatusWindow />  -->

		</process>
</container>
