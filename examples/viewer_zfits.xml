<container>

    <properties url="classpath:/default/settings.properties" />

    <!-- Pathes to the input files -->
    <property name="infile" value="file:/Users/Kai/isdc_fact/raw/2014/04/21/20140421_012.fits.fz" />
    <property name="drsfile" value="file:/Users/Kai/isdc_fact/raw/2014/04/21/20140421_008.drs.fits.gz" />

    <!--<property name="infile" value="file:/Users/Kai/isdc_fact/raw/2013/10/05/20131005_220.fits.fz" />-->
    <!--<property name="drsfile" value="file:/Users/Kai/isdc_fact/raw/2013/10/05/20131005_216.drs.fits.gz" />-->

    <property name="integralGainFile" value="classpath:/default/gain_sorted_20131127.csv" />
    <property name="pixelDelayFile" value="classpath:/default/delays_20141114.csv" />


    <service id="auxService" class="fact.auxservice.AuxFileService" auxFolder="file:/Users/Kai/isdc_fact/aux/2014/04/21/" />

    <!--In case you want to analyze .zfits files.-->
    <!--<stream id="fact" class="fact.io.zfits.ZFitsStream"  url="${infile}"/>-->

    <!-- Name of the stream and url to the input file -->
    <stream id="fact" class="fact.io.zfits.ZFitsStream"  url="${infile}" limit="100"/>

    <!-- Description of the process and the corresponding stream -->
    <process id="2" input="fact">
        <fact.utils.PreviousEventInfo
                startCellKey="StartCellData"
                outputKey="prevEvents"
                limitEvents="10"
                />
        <!-- <stream.flow.Skip condition="%{data.EventNum} &lt; 0" /> -->
        <!-- <stream.flow.Skip condition="%{data.TriggerType} != 1024" /> -->

        <include url="classpath:/default/data/calibration.xml" />

        <include url="classpath:/default/data/extraction.xml" />

        <include url="classpath:/default/data/cleaning.xml" />

        <!-- <Skip condition="%{data.shower} == null" /> -->

        <!--<fact.ShowViewer key="DataCalibrated"/>-->
        <fact.io.PrintKeysOnConsole keys="SourceName,size" />


    </process>


</container>
