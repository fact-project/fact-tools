<container>

    <properties url="classpath:/default/settings_mc.properties" />

    <property name="fhgfs" value="/home/fabian/mount/Phido/fhgfs_app" />
    
    <property name="number" value="25" />
        
    <!-- <property name="infile" value="${fhgfs}/fact/simulated/ceres/pedestal/standard_8/00000025.001_P_MonteCarlo000_Events.fits" /> -->
    <property name="infile" value="${fhgfs}/fact/simulated/ceres/proton_klaus_8/16910/00016910.910_D_MonteCarlo016_Events.fits.gz" />
    <property name="drsfile" value="${fhgfs}/fact/simulated/drsfiles/12bitADC/offsetMinus1850/test300samples2.drs.fits.gz" />
        
    <property name="integralGainFile" value="classpath:/default/defaultIntegralGains.csv" />
    
    <property name="outfile" value="/home/fabian/mount/data/LinuxDaten/uni/FACT/MonteCarlo/voltageTests_8erSettings/voltagesPedestalTrigger.txt" />

    <property name="search_window_left" value="25" />
    <property name="search_window_right" value="230" />
    <property name="limit" value="300" />
    

    <!-- Name des Streams und pfad zu dem Daten-File -->
    <stream id="fact" class="fact.io.FitsStream"  url="file:${infile}" limit="${limit}"/>

    <process id="2" input="fact">
        <!-- Calibration: -->
        <!-- DrsCalibration, PatchJumpRemoval, RemoveSpikes,
        DrsTimeCalibration, ArrayTimeCorrection, InterpolateBadPixel -->
        <include url="classpath:/default/mc/calibration_mc.xml" />
        <!-- Output: DataCalibrated -->
          
                
        <fact.filter.MovingAverage key="DataCalibrated" outputKey="DataMovAver" length="9" />                
        <fact.statistics.TimerowFeatures dataKey="DataCalibrated" movingAverageKey="DataMovAver" outputKey="dataStat" searchWindowLeft="${search_window_left}" searchWindowRight="${search_window_right}" />
   		<fact.io.RootASCIIWriter url="file:${outfile}" keys="EventNum,dataStat_mean" />
        


    </process>


</container>
