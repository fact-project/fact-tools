<container>
    <property name="fhgfs" value="/home/fabian/mount/Phido/fhgfs_app" />
    <property name="config" value="src/main/resources" />
    <property name="infile" value="${fhgfs}/fact/raw/2013/09/29/20130929_179.fits.gz" />
    <property name="drsfile" value="${fhgfs}/fact/raw/2013/09/29/20130929_167.drs.fits.gz" />
    <property name="drstimefile" value="${fhgfs}/fact/raw/2013/09/29/20130929_166.drs.time.fits" />
    <property name="drivefile" value="${fhgfs}/fact/aux/2013/09/29/20130929.DRIVE_CONTROL_TRACKING_POSITION.fits" />
    <property name="integralGainFile" value="${config}/gain_sorted_20131127.csv" />
    <property name="pixelDelayFile" value="${config}/delays_20141114.csv" />
    <property name="outfile" value="/home/ftemme/testoutfile" />
    <property name="outfile" value="/home/fabian/testoutfile" />

    <property name="1clKey" value="6_3_TM_B" />
    <property name="1clCore" value="6" />
    <property name="1clNeighbor" value="3" />
    <property name="1clTime" value="30" />
    <property name="1clKeyOut" value="N_${1clKey},S_${1clKey},nI_${1clKey},pC_${1clKey}_mean,pC_${1clKey}_variance,pC_${1clKey}_max,aT_${1clKey}_mean,aT_${1clKey}_variance" />

    <property name="2clKey" value="7_5_TM_B" />
    <property name="2clCore" value="7" />
    <property name="2clNeighbor" value="5" />
    <property name="2clTime" value="30" />
    <property name="2clKeyOut" value="N_${2clKey},S_${2clKey},nI_${2clKey},pC_${2clKey}_mean,pC_${2clKey}_variance,pC_${2clKey}_max,aT_${2clKey}_mean,aT_${2clKey}_variance" />

    <property name="3clKey" value="6_3_TN10_B" />
    <property name="3clCore" value="6" />
    <property name="3clNeighbor" value="3" />
    <property name="3clTime" value="10" />
    <property name="3clKeyOut" value="N_${3clKey},S_${3clKey},nI_${3clKey},pC_${3clKey}_mean,pC_${3clKey}_variance,pC_${3clKey}_max,aT_${3clKey}_mean,aT_${3clKey}_variance" />

    <property name="4clKey" value="6_3_TN15_B" />
    <property name="4clCore" value="6" />
    <property name="4clNeighbor" value="3" />
    <property name="4clTime" value="15" />
    <property name="4clKeyOut" value="N_${4clKey},S_${4clKey},nI_${4clKey},pC_${4clKey}_mean,pC_${4clKey}_variance,pC_${4clKey}_max,aT_${4clKey}_mean,aT_${4clKey}_variance" />

    <property name="5clKey" value="5_2.5_TN10_B" />
    <property name="5clCore" value="5" />
    <property name="5clNeighbor" value="2.5" />
    <property name="5clTime" value="10" />
    <property name="5clKeyOut" value="N_${5clKey},S_${5clKey},nI_${5clKey},pC_${5clKey}_mean,pC_${5clKey}_variance,pC_${5clKey}_max,aT_${5clKey}_mean,aT_${5clKey}_variance" />

    <property name="6clKey" value="7_5_TN10_B" />
    <property name="6clCore" value="7" />
    <property name="6clNeighbor" value="5" />
    <property name="6clTime" value="10" />
    <property name="6clKeyOut" value="N_${6clKey},S_${6clKey},nI_${6clKey},pC_${6clKey}_mean,pC_${6clKey}_variance,pC_${6clKey}_max,aT_${6clKey}_mean,aT_${6clKey}_variance" />

    <property name="7clKey" value="6_3_TM_B_oD" />
    <property name="7clCore" value="6" />
    <property name="7clNeighbor" value="3" />
    <property name="7clTime" value="30" />
    <property name="7clKeyOut" value="N_${7clKey},S_${7clKey},nI_${7clKey},pC_${7clKey}_mean,pC_${7clKey}_variance,pC_${7clKey}_max,aT_${7clKey}_mean,aT_${7clKey}_variance" />

    <property name="8clKey" value="6_3_TM_B_FFP" />
    <property name="8clCore" value="6" />
    <property name="8clNeighbor" value="3" />
    <property name="8clTime" value="30" />
    <property name="8clKeyOut" value="N_${8clKey},S_${8clKey},nI_${8clKey},pC_${8clKey}_mean,pC_${8clKey}_variance,pC_${8clKey}_max,aT_${8clKey}_mean,aT_${8clKey}_variance" />

    <property name="9clKey" value="6_3_TM_TG" />
    <property name="9clCore" value="6" />
    <property name="9clNeighbor" value="3" />
    <property name="9clTime" value="30" />
    <property name="9clKeyOut" value="N_${9clKey},S_${9clKey},nI_${9clKey},pC_${9clKey}_mean,pC_${9clKey}_variance,pC_${9clKey}_max,aT_${9clKey}_mean,aT_${9clKey}_variance" />

    <property name="10clKey" value="4.5_2.5_TN10_TG" />
    <property name="10clCore" value="4.5" />
    <property name="10clNeighbor" value="2.5" />
    <property name="10clTime" value="10" />
    <property name="10clKeyOut" value="N_${10clKey},S_${10clKey},nI_${10clKey},pC_${10clKey}_mean,pC_${10clKey}_variance,pC_${10clKey}_max,aT_${10clKey}_mean,aT_${10clKey}_variance" />

    <property name="11clKey" value="6_3_TN10_TG" />
    <property name="11clCore" value="6" />
    <property name="11clNeighbor" value="3" />
    <property name="11clTime" value="10" />
    <property name="11clKeyOut" value="N_${11clKey},S_${11clKey},nI_${11clKey},pC_${11clKey}_mean,pC_${11clKey}_variance,pC_${11clKey}_max,aT_${11clKey}_mean,aT_${11clKey}_variance" />

    <property name="12clKey" value="6_3_TN8_TG" />
    <property name="12clCore" value="6" />
    <property name="12clNeighbor" value="3" />
    <property name="12clTime" value="8" />
    <property name="12clKeyOut" value="N_${12clKey},S_${12clKey},nI_${12clKey},pC_${12clKey}_mean,pC_${12clKey}_variance,pC_${12clKey}_max,aT_${12clKey}_mean,aT_${12clKey}_variance" />

    <property name="event_param" value="NIGHT,RUNID,EventNum,UnixTimeUTC" />

    <property name="keysForOutput" value="${event_param},${1clKeyOut},${2clKeyOut},${3clKeyOut},${4clKeyOut},${5clKeyOut},${6clKeyOut},${7clKeyOut},${8clKeyOut},${9clKeyOut},${10clKeyOut},${11clKeyOut},${12clKeyOut}" />

    <stream id="fact" class="fact.io.FitsStream"  url="file:${infile}"/>

    <process id="2" input="fact">
    	<!-- prevEventAndSkip: -->
        <!-- PreviousEventInfo, Skip(no Data Trigger) -->
        <include file="examples/stdAnalysis/data/prevEventAndSkip.xml" />
        <!-- Output: Data -->
        
        <!-- Calibration: -->
        <!-- DrsCalibration, PatchJumpRemoval, RemoveSpikes, DrsTimeCalibration, ArrayTimeCorrection, InterpolateBadPixel -->
        <include file="examples/stdAnalysis/data/calibration.xml" />
        <!-- Output: DataCalibrated -->

        <!-- Basic extraction -->
        <!-- BasicExtraction, RisingEdgeForPositions, RisingEdgePolynomFit, RisingEdgeFitForPositions, TimeOverThreshold, PhotonChargeTimeOverThreshold, HandleSaturation, CorrectPixelDelays -->
        <include file="examples/stdAnalysis/data/extraction.xml" />     
        <!-- Output: pC_Basic, maxPos_Basic, aT_Basic, mS_Basic, aT_Basic_FitForPositions, mS_Basic_FitForPositions -->
        
        OUTDATED !!! (examples/data/extraction.xml has other keynames)

        <fact.features.source.SourcePosition outputKey="Cetatauri"
            url="file:${drivefile}"
            sourceRightAscension="84.41125"
            sourceDeclination="21.1425" 
        />

        <include file="examples/studies/cleaningTests.xml" />     
       

        <fact.io.RootASCIIWriter url="file:${outfile}" keys="${keysForOutput}" />

    </process>


</container>
