<module>
  <fact.extraction.BasicExtraction
      dataKey="DataCalibrated" 
      outputKeyMaxAmplPos="maxPos"
      outputKeyPhotonCharge="photoncharge" 
      gainService="gainService"
      startSearchWindow="${BasicExtraction.startSearchWindow}"
      rangeSearchWindow="${BasicExtraction.rangeSearchWindow}"
      rangeHalfHeightWindow="${BasicExtraction.rangeHalfHeigthWindow}"
  />
  <fact.extraction.EstimateBaseline
      dataKey="DataCalibrated"
      outputKey="baseline"
      firstSlice="10"
      range="30"
  />
  <fact.extraction.TimeOverThreshold
      dataKey="DataCalibrated"
      outputKey="timeOverThreshold"
      firstSliceOverThresholdOutputKey="arrivalTimeTOT"
      positionsKey="maxPos"
      threshold="1800"
      thresholdOutputKey="thresholdForToT"
  />
  <fact.datacorrection.CorrectSaturation
      dataKey="DataCalibrated"
      outputKey="DataCalibrated"
      totKey="timeOverThreshold"
      firstSliceOverThresholdKey="arrivalTimeTOT"
      threshold="1800"
      maxPosKey="maxPos"
      baselineKey="baseline"
  />
  <fact.extraction.BasicExtraction
      dataKey="DataCalibrated" 
      outputKeyMaxAmplPos="maxPos"
      outputKeyPhotonCharge="photoncharge" 
      gainService="gainService"
      startSearchWindow="${BasicExtraction.startSearchWindow}"
      rangeSearchWindow="${BasicExtraction.rangeSearchWindow}"
      rangeHalfHeightWindow="${BasicExtraction.rangeHalfHeigthWindow}"
  />
  <fact.extraction.RisingEdgeForPositions
      dataKey="DataCalibrated"
      amplitudePositionsKey="maxPos"
      outputKey="arrivalTimePos"
      maxSlopesKey="maxSlopesPos"
  />
  <fact.extraction.RisingEdgePolynomFit
      dataKey="DataCalibrated"
      risingEdgeKey="arrivalTimePos"
      outputKey="arrivalTime"
      numberOfPoints="${RisingEdgePolynomFit.numberOfPoints}"
      maxSlopesKey="maxSlopes"
  />
  <fact.datacorrection.CorrectPixelDelays
      arrivalTimeKey="arrivalTime"
      outputKey="arrivalTime"
      url="${pixelDelayFile}"
  />
  <fact.datacorrection.InterpolatePixelArray
      calibService="calibService"
      inputKey="photoncharge"
      outputKey="photoncharge"
  />
  <fact.datacorrection.InterpolatePixelArray
      calibService="calibService"
      inputKey="arrivalTime"
      outputKey="arrivalTime"
  />
</module>
