<container>

<!-- Pfade zu den fits files. -->
<!-- <property name="data" value="/home/bruegge/FactTest/20120209_061.fits" /> -->
<!-- <property name="dataDRS" value="/home/bruegge/FactTest/20120209_050.drs.fits" /> -->
<!-- <property name="drive_file" value="/home/bruegge/FactTest/drive_file.fits" /> -->
<!-- <property name="outfile" value="/home/bruegge/FactTest/test.txt" /> -->

<property name="data" value="/Users/kaibrugge/FactTest/jafs_mc.fits.gz" />
<property name="dataDRS" value="/Users/kaibrugge/FactTest/jafs_mc.drs.fits.gz" />

<!-- <property name="data" value="/Users/kaibrugge/FactTest/20130104_095.fits" /> -->
<!-- <property name="dataDRS" value="/Users/kaibrugge/FactTest/20130104_076.drs.fits" /> -->
<property name="drive_file" value="/Users/kaibrugge/FactTest/drive_file.fits" />
<property name="outfile" value="/Users/kaibrugge/FactTest/test.txt" />
<!-- <property name="path" value="/home/bruegge/FactTest" /> -->

	<!-- Name des Streams und pfad zu dem Daten-File -->
	<stream id="fact" class="fact.io.FitsStream"  url="file:${data}"  />
	
	<!-- Beschreibung des zu bearbeitenden Prozesses und zu welchem Stream dfieser gehÃ¶rt -->
	<process input="fact" copies="1">
	
	        <fact.processors.DrsCalibration url="file:${dataDRS}" key="data"  outputKey="DataCalibrated"/>  
            <fact.processors.CutSlices  start="22" end="220"/>
            <fact.processors.InterpolateBadPixel key="DataCalibrated"  outputKey="DataCalibrated"
                badChidIds="863,868,297,927,80,873,1093,1094,527,528,721,722" />
                
            <fact.processors.parfact.RemoveSpikesMars key="DataCalibrated" outputKey="DataCalibrated" />
            
            <fact.processors.MaxAmplitudePosition key="DataCalibrated" outputKey="AmplitudePositions" />
            <fact.processors.parfact.CalculatePhotonCharge key="DataCalibrated" positions="AmplitudePositions" outputKey="photonCharge"/>
            
            <fact.processors.parfact.CoreNeighborClean key="photonCharge" CorePixelThreshold="5.0" neighborPixelThreshold="2.0" outputKey="showerPixel" />
            <fact.processors.parfact.CalcSourcePosition url="file:${drive_file}" outputKey="sourcePosition"/>
            <fact.processors.parfact.HillasParameter pixels="showerPixel" photonEquivalent="photonCharge" sourcePosition="sourcePosition" outputKey="Hillas_"/>
            <fact.processors.MovingAverage key="DataCalibrated" outputKey="smooth" length="10" />
            <fact.processors.MotionDiff key="smooth" outputKey="diff" offset="10" />
<!--             <fact.io.RootASCIIWriter keys="EventNum,TriggerType,Hillas_Alpha,Hillas_Size,Hillas_Area" url="file:${outfile}" /> -->
            
	
<!-- 		<Skip condition="%{data.TriggerType} != 4" /> -->
<!-- 		<fact.processors.DrsCalibration url="file:${dataDRS}"/> -->
<!-- 		<fact.processors.CutSlices start="15" end="220" /> -->
<!-- 		<fact.processors.parfact.RemoveSpikesMars /> -->
<!-- 		<fact.processors.RemoveJumps key="DataCalibrated" outputKey="jumpsRemoved" /> -->
<!-- 		<fact.processors.parfact.CalculatePhotonCharge key="jumpsRemoved" outputKey="chargeremoved" /> -->
<!-- 		<fact.processors.parfact.CalculatePhotonCharge key="DataCalibrated" outputKey="charge" /> -->
<!-- 		<fact.processors.SumKey key="chargeremoved" outputKey="Sum" /> -->
<!-- 		<fact.processors.SumKey key="charge" outputKey="jumpsRemovedSum" /> -->
<!-- 		<fact.image.monitors.AverageBarPlotter keys="jumpsRemovedSum,Sum" drawErrors="true"/> -->
<!-- 		<fact.image.monitors.StatusWindow every="40" /> -->
<!-- 		<stream.monitor.DataRate every="200" /> -->
		<fact.image.ShowImage/>
	</process>
		
		
		
</container>

