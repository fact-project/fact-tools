<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_222) on Thu Oct 17 14:43:19 UTC 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>fact.TriggerEmulation (fact-tools 1.1.3 API)</title>
<meta name="date" content="2019-10-17">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="fact.TriggerEmulation (fact-tools 1.1.3 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../fact/tools/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../fact/utils/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?fact/TriggerEmulation/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;fact.TriggerEmulation</h1>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../fact/TriggerEmulation/Discriminator.html" title="class in fact.TriggerEmulation">Discriminator</a></td>
<td class="colLast">
<div class="block">Class that implements a software addaption of a discriminator in the sense of
 the device used on FACTs FTU (Trigger Unit) boards.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../fact/TriggerEmulation/Discriminator.DiscriminatorOutput.html" title="class in fact.TriggerEmulation">Discriminator.DiscriminatorOutput</a></td>
<td class="colLast">
<div class="block">A simple class to hold the result of the discriminator</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../fact/TriggerEmulation/EmulateDiscriminator.html" title="class in fact.TriggerEmulation">EmulateDiscriminator</a></td>
<td class="colLast">
<div class="block">Emulate a discriminator that is working on the summed timeseries of the patches.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../fact/TriggerEmulation/EmulateLogic.html" title="class in fact.TriggerEmulation">EmulateLogic</a></td>
<td class="colLast">
<div class="block">Emulate the n-out-of-4 trigger logic of the trigger unit
 and the n-out-of-40 logic of the trigger master
 by applying it to the array of trigger primitives.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../fact/TriggerEmulation/findMaximumTriggerThreshold.html" title="class in fact.TriggerEmulation">findMaximumTriggerThreshold</a></td>
<td class="colLast">
<div class="block">Scan the TriggerThreshold for each event in order to find the maximum possible threshold to keep the event

  * Created by jbuss on 26.08.18.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../fact/TriggerEmulation/Ratescan.html" title="class in fact.TriggerEmulation">Ratescan</a></td>
<td class="colLast">
<div class="block">Emulates a ratescan on summed patch time series.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../fact/TriggerEmulation/SumUpPatches.html" title="class in fact.TriggerEmulation">SumUpPatches</a></td>
<td class="colLast">
<div class="block">Sum up the signals of each patch and return an array of patchwise timeseries.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Jens BuÃŸ, jens.buss@tu-dortmund.de
 This package contains classes and processors to emulate the hardware trigger 
 and trigger logic of FACT.
 
 Sources for the physics background:
 [S1] Design and operation of FACT - the first G-APD Cherenkov telescope
      (DOI: 10.1088/1748-0221/8/06/P06008)
 [S2] P.Voglers PhD thesis (DOI: 10.3929/ETHZ-A-010568419)

 It supports the following features of the real hardware trigger:

 - Discrimator (digitization of the analog signals in a patch, by testing if
                the signal amplitude is above a given threshold for a given 
               time over threshold of 4ns according to [S2, P.136])
 - Conversion from DAC (12 bit, 2.5V full range[S2, P.136]) to millivolt forth and back 
 - Trigger Logic emulation
   - N-out-of-4 logic (by counting how many patches per FTU have a signal 
     above threshold)
   - N-out-of-40 logic (by counting how many FTUs responded to have triggered)
   - simple trigger coincidence for n == 1 in a n-out-of-4 and a n-out-of-40 
     logic (by determining on a sorted list of trigger slices, n-out-of-40
     have a trigger with the duration of a given time window)
 - Ratescans (scanning the trigger thresholds of the patches)

 The following features are known to be NOT YET implemented:

 - A lower bandwidth of the n-out-of-4 logic
 - Coincidence of trigger signals of a n-out-of-4 and a n-out-of-40 logic 
   for n > 1 (It is not clear how this is realized in the hardware)

 <ul>
 <li><a href="../../fact/TriggerEmulation/Discriminator.html" title="class in fact.TriggerEmulation"><code>Discriminator</code></a> is a class with functions to
 discriminate the signal of a given patch (or a bunch of them). Furthermore it contains helper funtions
 for the discrimination e.g. conversion between DAC and mV.
 <li><a href="../../fact/TriggerEmulation/EmulateDiscriminator.html" title="class in fact.TriggerEmulation"><code>EmulateDiscriminator</code></a> is a processor that emulates
 a discriminator that is working on the summed timeseries of patches. It uses functions from <a href="../../fact/TriggerEmulation/Discriminator.html" title="class in fact.TriggerEmulation"><code>Discriminator</code></a>
 <li><a href="../../fact/TriggerEmulation/EmulateLogic.html" title="class in fact.TriggerEmulation"><code>EmulateLogic</code></a> is a processor that emulates th n-out-of-4 trigger logic of FACT's
 trigger unit and the n-out-of-40 logic of the trigger master by applying it to the array of trigger primitives compiled
 by <a href="../../fact/TriggerEmulation/EmulateDiscriminator.html" title="class in fact.TriggerEmulation"><code>EmulateDiscriminator</code></a>
 <li><a href="../../fact/TriggerEmulation/Ratescan.html" title="class in fact.TriggerEmulation"><code>Ratescan</code></a> is a processor that performs a software ratescan on summed patch time series
 by iterating over a list of thresholds and applying <a href="../../fact/TriggerEmulation/Discriminator.html" title="class in fact.TriggerEmulation"><code>Discriminator</code></a> to the data
 <li><a href="../../fact/TriggerEmulation/findMaximumTriggerThreshold.html" title="class in fact.TriggerEmulation"><code>findMaximumTriggerThreshold</code></a>  is a processor that Scan the TriggerThreshold for each
  event in order to find the maximum possible threshold to keep the event by applying
  <a href="../../fact/TriggerEmulation/Discriminator.html" title="class in fact.TriggerEmulation"><code>Discriminator</code></a>.
 <li><a href="../../fact/TriggerEmulation/SumUpPatches.html" title="class in fact.TriggerEmulation"><code>SumUpPatches</code></a> lets you sum up the signals of each patch element wise and
 returns an array of patchwise timeseries;
 </ul>




 <p>A typical process for a software trigger

 <pre>

 <fact.filter.ShapeSignal/>
 <fact.TriggerEmulation.SumUpPatches/>
 <fact.TriggerEmulation.EmulateDiscriminator/>
 <fact.TriggerEmulation.EmulateLogic/>

 </pre>

 <p>A typical process for a software ratescan

 <pre>

 <fact.filter.ShapeSignal/>
 <fact.TriggerEmulation.SumUpPatches/>
 <fact.TriggerEmulation.Ratescan/>

 </pre>

 <p>A typical process for a max trigger search
  *
  * <pre>
  *
  * <fact.filter.ShapeSignal/>
  * <fact.TriggerEmulation.SumUpPatches/>
  * <fact.TriggerEmulation.findMaximumTriggerThreshold/>
  *
  * </pre></dd>
</dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../fact/tools/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../fact/utils/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?fact/TriggerEmulation/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019. All rights reserved.</small></p>
</body>
</html>
